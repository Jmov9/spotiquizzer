<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <title>Omat Spotify-statistikat</title>
</head>
<body>
  <h1>üéß Omat top Spotify-statistikat</h1>
  <div id="profile"></div>

  <h2>Top 10 kappaletta</h2>
  <ol id="top-tracks"></ol>

  <h2>Top 10 artistia</h2>
  <ol id="top-artists"></ol>

  <label for="timeRange">Ajanjakso:</label>
  <select id="timeRange">
    <option value="short_term">Viimeinen kuukausi</option>
    <option value="medium_term" selected>Viimeiset 6 kuukautta</option>
    <option value="long_term">Kaikki ajat</option>
  </select>

  <br><br>
  <button onclick="goToMenu()">üè† Palaa valikkoon</button>

<script>
  function goToMenu() {
    const token = new URLSearchParams(window.location.search).get('access_token');
    if (token) {
      window.location.href = `index.html?access_token=${token}`;
    } else {
      window.location.href = 'index.html'; // fallback jos token puuttuu
    }
  }
</script>


  <script src="stats.js"></script>
  <script>
    // Hakee tokenin joko URL:sta tai localStoragesta
    const token = new URLSearchParams(window.location.search).get('access_token') || localStorage.getItem('access_token');

    // Lis√§√§ token linkkiin takaisin menuun
    document.getElementById('backToMenu').addEventListener('click', () => {
      if (token) {
        window.location.href = `menu.html?access_token=${token}`;
      } else {
        window.location.href = 'menu.html';
      }
    });
  </script>
</body>
</html>
